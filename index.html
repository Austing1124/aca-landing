<!-- FILE: index.html (single-page, black + green theme) -->
<!doctype html>
<html lang="en">
<head>
  <meta name="google-site-verification" content="xmNJLaruvAIHOx38sr_jFW2sq1thvpLslXAgLcLxvlc" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ACA Health Insurance – Fast Quote</title>
  <meta name="description" content="Check your 2025 ACA/Marketplace savings. One quick form, fast callback.">

  <!-- Google tag (gtag.js) -->
  <!-- Keep your GT- tag *and* explicitly configure your Google Ads AW- ID
       so the conversion event will always be received by Google Ads. -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=GT-MBT73W3R"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());

    /* Your Google tag container ID */
    gtag('config', 'GT-MBT73W3R');

    /* Explicitly configure your Ads destination so conversions are guaranteed
       even if the GT container isn't linked yet. */
    gtag('config', 'AW-16462837751');
  </script>

  <style>
  :root{
    --bg:#000000;
    --bg2:#0b0b0b;
    --card:#0f1115;

    /* BLUE accents */
    --accent:#3b82f6;   /* deep blue (tailwind: blue-500) */
    --accent2:#2563eb;  /* darker blue (blue-600) */
    --text:#e9f7ef;
    --sub:#a3a3a3;
    --err:#ef4444;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    background:radial-gradient(1100px 600px at 80% -10%,#0d0f12 0%,var(--bg) 60%);
    color:var(--text);
    font:16px/1.45 system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  }
  .wrap{max-width:940px;margin:0 auto;padding:42px 16px 80px}
  header{margin:0 0 22px}

  /* BLUE title gradient */
  h1{
    font-size:clamp(30px,4.4vw,44px);
    line-height:1.05;margin:0 0 10px;
    background:linear-gradient(90deg,#bae6fd,#7dd3fc 40%,#38bdf8 80%);
    -webkit-background-clip:text;background-clip:text;color:transparent;
  }

  .sub{color:var(--sub)}

  /* Card border & glow — change rgba(GREEN) -> rgba(BLUE) */
  .card{
    background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02));
    border:1px solid rgba(59,130,246,.45);             /* blue-500 */
    border-radius:18px;padding:24px;
    box-shadow:0 18px 60px rgba(59,130,246,.10);       /* blue glow */
  }

  label{display:block;font-weight:700;margin:6px 0 6px}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  @media(max-width:720px){.row{grid-template-columns:1fr}}

  input,select{
    width:100%;padding:12px 14px;border-radius:12px;
    border:1px solid rgba(59,130,246,.25);            /* blue border */
    background:linear-gradient(180deg,#0a0d0f,#090b0d);
    color:var(--text);outline:none;
    transition:border-color .15s, box-shadow .15s
  }
  input::placeholder{color:#7a7a7a}
  input:focus,select:focus{
    border-color:var(--accent);
    box-shadow:0 0 0 3px rgba(59,130,246,.25);        /* blue focus ring */
  }

  .btn{
    display:inline-block;
    background:linear-gradient(180deg,var(--accent),var(--accent2));
    color:#041007;
    border:1px solid rgba(59,130,246,.65);
    padding:16px 18px;border-radius:14px;font-weight:900;cursor:pointer;width:100%;
    letter-spacing:.2px;transition:filter .15s, transform .04s
  }
  .btn:hover{filter:brightness(1.08)}
  .btn:active{transform:translateY(1px)}
  .btn[disabled]{filter:grayscale(.6) brightness(.85);cursor:not-allowed}

  .note{font-size:12px;color:var(--sub)}
  .ok{
  color:var(--accent);
  font-size:20px;     /* bigger */
  font-weight:700;    /* bold */
}
  .err{color:var(--err)}
  .hide{display:none}
  footer{margin-top:16px;color:#888}

  /* Checkbox and links in blue */
  input[type="checkbox"]{accent-color:var(--accent)}
  a{color:#93c5fd}           /* light blue link */
  a:hover{text-decoration:underline}
</style>

</head>
<body>
<div class="wrap">
  <header>
    <h1>Free Certified Healthcare.gov ACA Health Insurance Quote in Your Area</h1>
    <div class="sub">$0–low-cost options • Check your 2025 savings in 60 seconds • Licensed help</div>
  </header>

  <div class="card">
    <form id="form" autocomplete="on" novalidate>
      <div class="row">
        <div><label>First name</label><input required name="first_name" autocomplete="given-name" placeholder="Jane"></div>
        <div><label>Last name</label><input required name="last_name" autocomplete="family-name" placeholder="Doe"></div>
      </div>
      <div class="row">
        <div><label>Date of birth</label><input required name="dob" type="date" autocomplete="bday"></div>
        <div><label>Estimated yearly income</label><input required name="income" inputmode="numeric" placeholder="e.g., 40,000"></div>
      </div>
      <div class="row">
        <div><label>ZIP code</label><input required name="zip" inputmode="numeric" pattern="\d{5}" maxlength="5" placeholder="33901"></div>

        <!-- PHONE: required, digits-only, exactly 10 -->
        <div>
          <label>Mobile phone</label>
          <input
            required
            name="phone"
            inputmode="tel"
            autocomplete="tel"
            placeholder="888-888-8888"
            pattern="\d{10}"
            maxlength="10"
            oninput="this.value=this.value.replace(/[^0-9]/g,'').slice(0,10)"
          >
        </div>
      </div>
      <div class="row">
        <!-- EMAIL: now required, use email type -->
        <div><label>Email</label><input required type="email" name="email" inputmode="email" autocomplete="email" placeholder="you@email.com"></div>
        <div></div>
      </div>

      <!-- honeypot -->
      <div class="hide"><input name="website" placeholder="leave blank"></div>

      <div class="note" style="margin:12px 0 8px;display:flex;gap:10px;align-items:flex-start">
        <input id="consent" type="checkbox" required>
        <label for="consent">
          Consent & Privacy. By clicking “Get My Quote”, I agree that Pine Tree Insurance Group may sell/share my information with the licensed insurance partners and that those specific partners may contact me at the number and email I provided with marketing calls, texts, and emails about ACA/Marketplace plans. Calls/texts may use an auto dialer or prerecorded voice. Msg & data rates may apply. I understand my consent is not required to obtain services. I can opt out anytime by replying STOP to texts. I am 18+ and I agree to electronic records and signatures. See our <a href="/privacy.html" target="_blank" rel="noopener">Privacy Policy</a>.
        </label>
      </div>

      <button class="btn" id="submitBtn">Get My Quote</button>
      <div id="msg" class="note" style="margin-top:12px"></div>
    </form>
  </div>

  <footer class="note">© Pine Tree Insurance Group • Licensed & independent • Not affiliated with any government. &nbsp; <a href="/privacy.html" target="_blank" rel="noopener">Privacy</a></footer>
</div>

<script>
  const API_URL = "https://acaquote.net.ngrok.dev/submit";
  const form = document.getElementById('form');
  const msg  = document.getElementById('msg');
  const btn  = document.getElementById('submitBtn');

  // prevent instant duplicate submits (same phone+dob+zip) for 1 hour
  function recentLocalDuplicate(key) {
    try {
      const raw = localStorage.getItem("last_submit_key");
      const ts  = Number(localStorage.getItem("last_submit_ts") || 0);
      if (raw === key && Date.now() - ts < 60 * 60 * 1000) return true;
    } catch(_) {}
    return false;
  }
  function stampLocal(key){
    try {
      localStorage.setItem("last_submit_key", key);
      localStorage.setItem("last_submit_ts", String(Date.now()));
    } catch(_) {}
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    msg.textContent = '';

    const fd = new FormData(form);
    const data = Object.fromEntries(fd.entries());

    if (data.website) return; // honeypot
    if (!document.getElementById('consent').checked) {
      msg.innerHTML = '<span class="err">Please agree to the consent to continue.</span>';
      return;
    }

    // normalize / validate
    const payload = {
      first_name: (data.first_name || '').trim(),
      last_name:  (data.last_name  || '').trim(),
      phone:      (data.phone      || '').replace(/\D/g,'').slice(0,10),
      email:      (data.email      || '').trim(),
      zip:        (data.zip        || '').trim(),
      dob:        data.dob || '',
      income:     data.income || '',
      consent_text: document.querySelector('label[for="consent"]').innerText.trim(),
      consent_ts_client: new Date().toISOString(),
      source: 'landing-single',
      user_agent: navigator.userAgent
    };

    for (const k of ['first_name','last_name','phone','email','zip','dob','income']){
      if (!payload[k]) { msg.innerHTML = '<span class="err">Please complete all required fields.</span>'; return; }
    }
    if (payload.phone.length !== 10){
      msg.innerHTML = '<span class="err">Please enter a 10-digit mobile number.</span>'; return;
    }
    if (!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(payload.email)){
      msg.innerHTML = '<span class="err">Please enter a valid email address.</span>'; return;
    }
    if (!/^\d{5}$/.test(payload.zip)){
      msg.innerHTML = '<span class="err">Please enter a 5-digit ZIP code.</span>'; return;
    }

    // client-side light dedupe guard
    const localKey = [payload.phone, payload.dob, payload.zip].join('|');
    if (recentLocalDuplicate(localKey)){
      msg.innerHTML = '<span class="err">We already received a recent request with this info. Please try again later.</span>';
      return;
    }

    // submit
    btn.disabled = true;
    try {
      const r = await fetch(API_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });
      const j = await r.json();

      if (r.ok && j.status === 'ok') {
  stampLocal(localKey);
  msg.innerHTML = '<span class="ok" style="font-size:22px;font-weight:700;display:block;text-align:center;margin-top:10px;">Thanks! We\'ll call you shortly to review options.</span>';

  // fire Google Ads conversion ONLY on real, accepted lead
  gtag('event', 'conversion', { 'send_to': 'AW-16462837751/XIciCMT2ko8bEPfvi6o9' });

  // fire your second conversion event
  gtag('event', 'conversion_event_submit_lead_form_2', {
    // optional: you can add event parameters here if needed
  });

  form.reset();
}


      } else if (j.status === 'out_of_geo') {
        msg.innerHTML = '<span class="err">Sorry — at the moment we only serve Florida, Georgia, and Texas.</span>';

      } else if (j.status === 'duplicate') {
        msg.innerHTML = `<span class="err">Looks like we already received a recent request from this number. Please try again in ${j.cooldown_hours || 24} hours.</span>`;

      } else if (j.status === 'invalid') {
        msg.innerHTML = '<span class="err">Please double-check your details and try again.</span>';

      } else {
        msg.innerHTML = '<span class="err">Something went wrong. Please call us directly.</span>';
      }

    } catch (err) {
      msg.innerHTML = '<span class="err">Network error. Please try again.</span>';
    } finally {
      btn.disabled = false; // re-enable if not accepted
    }
  });
</script>
</body>
</html>
